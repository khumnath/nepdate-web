const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./pages-BaufkgdD.js","./vendor-react-DWIiiPhF.js","./vendor-other-DQJqTIja.js","./vendor-leaflet-Ch3uxlbW.js","./vendor-leaflet-Dgihpmma.css","./data-CkumUtNx.js","./bikram-KYPdm3xO.js","./kundali-aVhZFCae.js","./vendor-utils-y-iLWhYP.js"])))=>i.map(i=>d[i]);
import"./index-STffxFgY.js";import{r as t,j as e,Q as D,U as oe,X as ie,H as de,S as ce,R as ue,B as he,a as me,I as Y,M as fe,b as pe,Y as ge,_ as xe}from"./vendor-react-DWIiiPhF.js";import{a6 as N,s as z,a7 as be,N as b,a8 as W,C as ye,T as ve,w as we,x as ke,M as Se,a9 as je,aa as Ne,ab as Ae,ac as Ee}from"./bikram-KYPdm3xO.js";import{u as Te,A as Ie}from"./pages-BaufkgdD.js";import{l as Ce,m as _e,a as Le,b as Re}from"./vendor-leaflet-Ch3uxlbW.js";import"./vendor-other-DQJqTIja.js";import"./data-CkumUtNx.js";import"./kundali-aVhZFCae.js";import"./vendor-utils-y-iLWhYP.js";const De=()=>{const[a,o]=t.useState("light");return t.useEffect(()=>{const u=localStorage.getItem("theme")||"light";o(u),document.documentElement.classList.toggle("dark",u==="dark")},[]),{theme:a,toggleTheme:()=>{const d=a==="light"?"dark":"light";o(d),localStorage.setItem("theme",d),document.documentElement.classList.toggle("dark",d==="dark")},resetTheme:()=>{localStorage.removeItem("theme"),o("light"),document.documentElement.classList.toggle("dark",!1)}}},Pe=()=>{const[a,o]=t.useState("tabs"),[w,c]=t.useState("topbar");return t.useEffect(()=>{const r=localStorage.getItem("menuStyle");o(r||"tabs");const f=localStorage.getItem("desktopLayoutStyle");c(f||"topbar")},[]),{menuStyle:a,desktopLayoutStyle:w,handleSetMenuStyle:r=>{o(r),localStorage.setItem("menuStyle",r)},handleSetDesktopLayoutStyle:r=>{c(r),localStorage.setItem("desktopLayoutStyle",r)},resetLayoutSettings:()=>{localStorage.removeItem("menuStyle"),localStorage.removeItem("desktopLayoutStyle"),o("tabs"),c("topbar")}}};function K(a={}){const{immediate:o=!1,onNeedRefresh:w,onOfflineReady:c,onRegistered:d,onRegisteredSW:u,onRegisterError:h}=a;let r,f;const y=async(s=!0)=>{await f};async function g(){if("serviceWorker"in navigator){if(r=await N(async()=>{const{Workbox:s}=await import("./vendor-other-DQJqTIja.js").then(n=>n.w);return{Workbox:s}},[],import.meta.url).then(({Workbox:s})=>new s("./sw.js",{scope:"./",type:"classic"})).catch(s=>{h?.(s)}),!r)return;r.addEventListener("activated",s=>{(s.isUpdate||s.isExternal)&&window.location.reload()}),r.addEventListener("installed",s=>{s.isUpdate||c?.()}),r.register({immediate:o}).then(s=>{u?u("./sw.js",s):d?.(s)}).catch(s=>{h?.(s)})}}return f=g(),y}const Me=()=>{const[a,o]=t.useState(!1),[w,c]=t.useState(!1),[d,u]=t.useState(()=>localStorage.getItem("pwa_installed")==="true"),[h,r]=t.useState(null);return t.useEffect(()=>{K({immediate:!0})},[]),t.useEffect(()=>{const y=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;if(o(!!y),y){u(!0);return}const g=()=>{localStorage.setItem("pwa_installed","true"),u(!0),c(!1)};window.addEventListener("appinstalled",g),"getInstalledRelatedApps"in navigator&&navigator.getInstalledRelatedApps().then(n=>{n.length>0&&(localStorage.getItem("pwa_installed")!=="true"&&localStorage.setItem("pwa_installed","true"),u(!0))});const s=n=>{n.preventDefault(),localStorage.removeItem("pwa_installed"),u(!1),r(n),c(!0)};return window.addEventListener("beforeinstallprompt",s),()=>{window.removeEventListener("appinstalled",g),window.removeEventListener("beforeinstallprompt",s)}},[]),{isStandalone:a,canInstall:w,isInstalled:d,deferredPrompt:h,handleInstallClick:async()=>{h&&(h.prompt(),await h.userChoice,r(null),c(!1))}}},Be=()=>{const[a,o]=t.useState("calendar"),[w,c]=t.useState(null),[d,u]=t.useState(!1),[h,r]=t.useState(!1),[f,y]=t.useState(!1),[g,s]=t.useState(!1),n=t.useRef(null),A=t.useRef(null),[C,m]=t.useState(!1),x=t.useRef(null),l=t.useRef(0),[j,E]=t.useState(!1);t.useEffect(()=>{let i=null,p=0;const k=25,S=()=>{p++,typeof window.Android<"u"&&typeof window.Android.isAndroidApp=="function"?(E(!0),i&&clearInterval(i)):p>=k&&i&&clearInterval(i)};return S(),j||(i=window.setInterval(S,2e3)),()=>{i&&clearInterval(i)}},[]),t.useEffect(()=>{const i=p=>{h&&p.key==="Backspace"&&(p.preventDefault(),r(!1))};return h&&window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[h]);const T=t.useCallback(()=>d?(u(!1),!0):f?(y(!1),!0):h?(r(!1),!0):a==="kundali"?g&&n.current?(n.current(),!0):(o("calendar"),!0):a==="dharma"&&A.current&&A.current()?!0:["converter","settings","privacy","radio"].includes(a)?(o("calendar"),!0):!1,[a,d,f,h,g]);t.useEffect(()=>{const i=()=>{l.current=0,m(!1),x.current&&(clearTimeout(x.current),x.current=null)};if(window.handleBackPress=()=>{if(T())return i(),!0;if(l.current+=1,l.current===1)return m(!0),navigator.vibrate&&navigator.vibrate(50),x.current&&clearTimeout(x.current),x.current=window.setTimeout(()=>i(),2e3),!0;{i();const k=window.Android;return k?.exitApp?(k.exitApp(),!0):!1}},!j){const p=()=>{const S=new URL(window.location.href);S.hash=`#${Date.now()}`,window.history.pushState({dummy:!0},"",S.toString())};p();const k=()=>{if(T()){p();return}l.current+=1,l.current===1?(m(!0),navigator.vibrate&&navigator.vibrate(50),x.current&&clearTimeout(x.current),x.current=window.setTimeout(()=>{l.current=0,m(!1)},2e3),p()):(window.history.go(-2),l.current=0,m(!1))};return window.addEventListener("popstate",k),()=>window.removeEventListener("popstate",k)}return()=>{j&&(l.current=0,m(!1))}},[j,T]);const _=i=>{c(i),u(!0)},L=t.useCallback(i=>{n.current=i},[]),I=t.useCallback(i=>{A.current=i},[]);return{activeView:a,setActiveView:o,selectedDate:w,isModalOpen:d,setIsModalOpen:u,isMenuOpen:h,setIsMenuOpen:r,isAboutOpen:f,setIsAboutOpen:y,isKundaliResultsVisible:g,setIsKundaliResultsVisible:s,showExitToast:C,handleDayClick:_,isAndroidWebView:j,setKundaliBackAction:L,setDharmaBackAction:I}},Oe=(a,o)=>{const[w,c]=t.useState(!1),[d,u]=t.useState(null),[h,r]=t.useState(null),[f,y]=t.useState(!1),[g,s]=t.useState(null);return t.useEffect(()=>{typeof window.Android<"u"&&typeof window.Android.openWidgetSettings=="function"&&c(!0)},[]),t.useEffect(()=>{const m=x=>{if(x?.preventDefault?.(),a){o(!1);return}if(f)window.Android?.exitApp?window.Android.exitApp():window.history.length>1?window.history.back():window.close();else{y(!0);const l=window.setTimeout(()=>y(!1),2e3);s(l)}};return window.addEventListener("popstate",m),document.addEventListener("backbutton",m),()=>{window.removeEventListener("popstate",m),document.removeEventListener("backbutton",m),g&&clearTimeout(g)}},[a,f,g,o]),{isAndroidApp:w,showExitToast:f,handleTouchStart:m=>{u(m.touches[0].clientX),r(null)},handleTouchMove:m=>r(m.touches[0].clientX),handleTouchEnd:()=>{if(!d||!h)return;const m=h-d;m>60&&d<50?o(!0):m<-60&&a&&o(!1),u(null),r(null)}}},Ve=t.lazy(()=>N(()=>import("./pages-BaufkgdD.js").then(a=>a.K),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),Ye=t.lazy(()=>N(()=>import("./pages-BaufkgdD.js").then(a=>a.c),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),ze=t.lazy(()=>N(()=>import("./pages-BaufkgdD.js").then(a=>a.S),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),We=t.lazy(()=>N(()=>import("./pages-BaufkgdD.js").then(a=>a.b),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),Ke=t.lazy(()=>N(()=>import("./pages-BaufkgdD.js").then(a=>a.r),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),Ue=t.lazy(()=>N(()=>import("./pages-BaufkgdD.js").then(a=>a.D),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),Xe=()=>{const{theme:a,toggleTheme:o,resetTheme:w}=De(),{menuStyle:c,desktopLayoutStyle:d,handleSetMenuStyle:u,handleSetDesktopLayoutStyle:h,resetLayoutSettings:r}=Pe(),{isStandalone:f,canInstall:y,handleInstallClick:g}=Me(),{activeView:s,setActiveView:n,selectedDate:A,isModalOpen:C,setIsModalOpen:m,isMenuOpen:x,setIsMenuOpen:l,isAboutOpen:j,setIsAboutOpen:E,handleDayClick:T,setIsKundaliResultsVisible:_,setKundaliBackAction:L,setDharmaBackAction:I,showExitToast:i}=Be(),{activeSystem:p,currentYear:k,currentMonth:S,currentBsYear:U,currentBsMonth:X,currentAdYear:$,currentAdMonth:F,switchSystem:H,goToToday:G,changeMonth:P,changeYear:M,setCurrentBsYear:Q,setCurrentAdYear:q,setCurrentBsMonth:J,setCurrentAdMonth:Z,initialToday:B,initialTodayBs:ee,todayDetails:O}=Te(),{isAndroidApp:te,handleTouchStart:ae,handleTouchMove:se,handleTouchEnd:ne}=Oe(x,l),R=t.useRef(null),re=()=>{w(),r(),z.info("Settings reset to default",2e3)};t.useEffect(()=>{I(s==="dharma"?()=>R.current?!!R.current():(n("calendar"),!0):null)},[s,n,I]),t.useEffect(()=>{const V=new URLSearchParams(window.location.search).get("activeView");V&&(n(V),window.history.replaceState({},"","/"))},[n]),t.useEffect(()=>{i&&z.info("Press back again to exit",2e3)},[i]);const le=()=>T(B);return e.jsxs("div",{className:`min-h-screen flex flex-col bg-slate-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-colors relative ${d==="sidebar"?"md:flex-row":""} ${a==="dark"?"dark":""}`,onTouchStart:ae,onTouchMove:se,onTouchEnd:ne,children:[d==="topbar"&&e.jsxs("div",{className:"w-full flex items-center justify-between px-4 py-2 bg-slate-200 dark:bg-gray-800 z-30 print:hidden",children:[e.jsx(be,{activeView:s,onNavigate:v=>{v==="about"?E(!0):n(v)}}),!f&&y&&e.jsxs("button",{onClick:g,className:"hidden md:flex ml-4 p-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 items-center gap-2 text-sm",children:[e.jsx(D,{className:"w-4 h-4"})," ",e.jsx("span",{children:b.installApp})]})]}),e.jsx("header",{className:"px-4 py-2 dark:border-gray-700 bg-slate-200 dark:bg-gray-800 z-30 md:hidden",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[c==="slide"&&e.jsx("button",{onClick:()=>l(!0),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:e.jsx(oe,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-lg sm:text-xl font-semibold",children:b.Nepdate_calendar})]}),c==="tabs"&&!f&&y&&e.jsxs("button",{onClick:g,className:"px-3 py-2 text-left text-xs rounded bg-blue-600 text-white hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5"})," ",e.jsx("span",{children:b.installApp})]})]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 md:hidden",onClick:()=>l(!1)}),e.jsx("aside",{className:`fixed top-0 left-0 z-50 h-full bg-slate-200 dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out
          ${x?"translate-x-0":"-translate-x-full"}
          ${d==="sidebar"?"md:translate-x-0 md:sticky md:h-screen md:w-56":"md:hidden w-64"}`,children:e.jsxs("div",{className:"flex flex-col h-full p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Menu"}),e.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 md:hidden",children:e.jsx(ie,{className:"w-5 h-5"})})]}),e.jsxs("nav",{className:"flex flex-col space-y-3 text-gray-800 dark:text-gray-200",children:[e.jsxs("button",{onClick:()=>{n("calendar"),l(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(de,{className:"w-4 h-4"})," ",b.home]}),e.jsxs("button",{onClick:()=>{n("converter"),l(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(ce,{className:"w-4 h-4"})," ",b.converter]}),e.jsxs("button",{onClick:()=>{n("kundali"),l(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:["ðŸ”¯ ",b.kundali]}),e.jsxs("button",{onClick:()=>{n("radio"),l(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(ue,{className:"w-4 h-4"})," ",b.radio]}),e.jsxs("button",{onClick:()=>{n("dharma"),l(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(he,{className:"w-4 h-4"})," ",b.dharma]}),e.jsxs("button",{onClick:()=>{n("settings"),l(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(me,{className:"w-4 h-4"})," ",b.settings]}),e.jsxs("button",{onClick:()=>{n("privacy"),l(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(Y,{className:"w-4 h-4"})," ",b.privacyPolicy]}),e.jsxs("button",{onClick:()=>{E(!0),l(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(Y,{className:"w-4 h-4"})," ",b.about]}),!f&&y&&e.jsxs("button",{onClick:()=>{g(),l(!1)},className:"px-3 py-2 flex items-center gap-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:[e.jsx(D,{className:"w-4 h-4"})," ",b.installApp]}),e.jsxs("button",{onClick:()=>{o(),l(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[a==="light"?e.jsx(fe,{className:"w-4 h-4"}):e.jsx(pe,{className:"w-4 h-4"})," ",a==="light"?b.darkMode:b.lightMode]}),e.jsx("hr",{className:"border-gray-300 dark:border-gray-600 my-2"}),e.jsxs("button",{onClick:()=>{W(),l(!1)},className:"px-3 py-2 flex items-center gap-2 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/50",children:[e.jsx(ge,{className:"w-4 h-4"})," Clear Cache & Reload"]})]}),e.jsxs("div",{className:"mt-auto text-xs text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700 pt-4",children:["Â© ",new Date().getFullYear()," ",b.project]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsxs("div",{className:`h-full overflow-auto px-4 md:px-6 max-w-7xl xl:max-w-6xl mx-auto w-full ${c==="tabs"?"pb-24 md:pb-6":"pb-20 md:pb-6"}`,children:[s==="kundali"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Ve,{onBack:()=>n("calendar"),setIsKundaliResultsVisible:_,setKundaliBackAction:L})}),s==="calendar"&&e.jsxs(e.Fragment,{children:[e.jsx(ye,{activeSystem:p,bsYear:U,bsMonth:X,adYear:$,adMonth:F,onSystemChange:H,onTodayClick:G,theme:a,onThemeToggle:o,todayDetails:O}),e.jsxs("main",{className:"min-h-[60vh] md:grid md:grid-cols-12 md:gap-x-6",children:[e.jsx("aside",{className:"hidden md:block md:col-span-4",children:e.jsx(ve,{todayAd:B,todayBs:ee,todayDetails:O,onShowDetailsClick:le})}),e.jsxs("div",{className:"md:col-span-8 flex flex-col",children:[e.jsx(we,{activeSystem:p,currentYear:k,currentMonth:S,onYearChange:v=>p==="bs"?Q(v):q(v),onMonthChange:v=>p==="bs"?J(v):Z(v),onPrevMonth:()=>P("prev"),onNextMonth:()=>P("next"),onPrevYear:()=>M("prev"),onNextYear:()=>M("next")}),e.jsx(ke,{activeSystem:p,currentYear:k,currentMonth:S,onDayClick:T}),e.jsx(Se,{activeSystem:p,currentYear:k,currentMonth:S})]})]})]}),s==="dharma"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Ue,{onBack:()=>n("calendar"),setDharmaBackAction:v=>{R.current=v}})}),s==="converter"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Ye,{onBack:()=>n("calendar")})}),s==="settings"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(ze,{onBack:()=>n("calendar"),currentTheme:a,onThemeChange:o,currentMenuStyle:c,onMenuStyleChange:u,currentDesktopLayoutStyle:d,onDesktopLayoutStyleChange:h,onResetSettings:re,isAndroidApp:te,onReloadApp:W})}),s==="privacy"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(We,{})}),s==="radio"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Ke,{})})]})}),c==="slide"&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-slate-200 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-50 print:hidden md:hidden",children:e.jsx(je,{})}),c==="tabs"&&e.jsx("div",{className:"md:hidden print:hidden",children:e.jsx(Ne,{activeView:s,onNavigate:v=>{v==="about"?E(!0):n(v)}})}),e.jsx(Ae,{date:A,isOpen:C,onClose:()=>m(!1)}),j&&e.jsx(Ie,{setIsAboutOpen:E}),e.jsx(Ee,{})]})};Ce.Icon.Default.mergeOptions({iconUrl:Re,shadowUrl:Le,iconRetinaUrl:_e});K({onNeedRefresh(){confirm("A new version is available. Reload to update?")&&window.location.reload()},onOfflineReady(){console.log("App ready to work offline")}});xe.createRoot(document.getElementById("root")).render(e.jsx(t.StrictMode,{children:e.jsx(Xe,{})}));
