const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./pages-BNsnznQx.js","./vendor-react-RtDY5PU0.js","./vendor-other-DQJqTIja.js","./vendor-leaflet-Ch3uxlbW.js","./vendor-leaflet-Dgihpmma.css","./data-CsbgTcKv.js","./bikram-BM8lf7rg.js","./kundali-n8MAnaBd.js","./vendor-utils-y-iLWhYP.js"])))=>i.map(i=>d[i]);
import"./index-DJne3ZBA.js";import{r as t,j as e,Y as L,_ as ne,X as re,H as oe,S as le,R as ie,B as de,a as ce,I as B,M as ue,b as he,$ as me,a0 as fe}from"./vendor-react-RtDY5PU0.js";import{a6 as N,s as O,a7 as pe,N as x,a8 as V,C as ge,T as xe,w as be,x as ye,M as ve,a9 as we,aa as ke,ab as Se,ac as je}from"./bikram-BM8lf7rg.js";import{u as Ne,A as Ee}from"./pages-BNsnznQx.js";import{l as Te,m as Ae,a as Ie,b as Ce}from"./vendor-leaflet-Ch3uxlbW.js";import"./vendor-other-DQJqTIja.js";import"./data-CsbgTcKv.js";import"./kundali-n8MAnaBd.js";import"./vendor-utils-y-iLWhYP.js";const _e=()=>{const[a,o]=t.useState("light");return t.useEffect(()=>{const h=localStorage.getItem("theme")||"light";o(h),document.documentElement.classList.toggle("dark",h==="dark")},[]),{theme:a,toggleTheme:()=>{const c=a==="light"?"dark":"light";o(c),localStorage.setItem("theme",c),document.documentElement.classList.toggle("dark",c==="dark")},resetTheme:()=>{localStorage.removeItem("theme"),o("light"),document.documentElement.classList.toggle("dark",!1)}}},Le=()=>{const[a,o]=t.useState("tabs"),[w,u]=t.useState("topbar");return t.useEffect(()=>{const r=localStorage.getItem("menuStyle");o(r||"tabs");const f=localStorage.getItem("desktopLayoutStyle");u(f||"topbar")},[]),{menuStyle:a,desktopLayoutStyle:w,handleSetMenuStyle:r=>{o(r),localStorage.setItem("menuStyle",r)},handleSetDesktopLayoutStyle:r=>{u(r),localStorage.setItem("desktopLayoutStyle",r)},resetLayoutSettings:()=>{localStorage.removeItem("menuStyle"),localStorage.removeItem("desktopLayoutStyle"),o("tabs"),u("topbar")}}};function Y(a={}){const{immediate:o=!1,onNeedRefresh:w,onOfflineReady:u,onRegistered:c,onRegisteredSW:h,onRegisterError:m}=a;let r,f;const b=async(s=!0)=>{await f};async function g(){if("serviceWorker"in navigator){if(r=await N(async()=>{const{Workbox:s}=await import("./vendor-other-DQJqTIja.js").then(n=>n.w);return{Workbox:s}},[],import.meta.url).then(({Workbox:s})=>new s("./sw.js",{scope:"./",type:"classic"})).catch(s=>{m?.(s)}),!r)return;r.addEventListener("activated",s=>{(s.isUpdate||s.isExternal)&&window.location.reload()}),r.addEventListener("installed",s=>{s.isUpdate||u?.()}),r.register({immediate:o}).then(s=>{h?h("./sw.js",s):c?.(s)}).catch(s=>{m?.(s)})}}return f=g(),b}const Pe=()=>{const[a,o]=t.useState(!1),[w,u]=t.useState(!1),[c,h]=t.useState(()=>localStorage.getItem("pwa_installed")==="true"),[m,r]=t.useState(null);return t.useEffect(()=>{Y({immediate:!0})},[]),t.useEffect(()=>{const b=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;if(o(!!b),b){h(!0);return}const g=()=>{localStorage.setItem("pwa_installed","true"),h(!0),u(!1)};window.addEventListener("appinstalled",g),"getInstalledRelatedApps"in navigator&&navigator.getInstalledRelatedApps().then(n=>{n.length>0&&(localStorage.getItem("pwa_installed")!=="true"&&localStorage.setItem("pwa_installed","true"),h(!0))});const s=n=>{n.preventDefault(),localStorage.removeItem("pwa_installed"),h(!1),r(n),u(!0)};return window.addEventListener("beforeinstallprompt",s),()=>{window.removeEventListener("appinstalled",g),window.removeEventListener("beforeinstallprompt",s)}},[]),{isStandalone:a,canInstall:w,isInstalled:c,deferredPrompt:m,handleInstallClick:async()=>{m&&(m.prompt(),await m.userChoice,r(null),u(!1))}}},Re=()=>{const[a,o]=t.useState("calendar"),[w,u]=t.useState(null),[c,h]=t.useState(!1),[m,r]=t.useState(!1),[f,b]=t.useState(!1),[g,s]=t.useState(!1),n=t.useRef(null),[T,E]=t.useState(!1),i=t.useRef(null),k=t.useRef(0),[d,I]=t.useState(!1);t.useEffect(()=>{let l=null,y=0;const p=25,S=()=>{y++,typeof window.Android<"u"&&typeof window.Android.isAndroidApp=="function"?(I(!0),l&&clearInterval(l)):y>=p&&l&&clearInterval(l)};return S(),d||(l=window.setInterval(S,2e3)),()=>{l&&clearInterval(l)}},[]),t.useEffect(()=>{const l=y=>{m&&y.key==="Backspace"&&(y.preventDefault(),r(!1))};return m&&window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)}},[m]);const j=t.useCallback(()=>c?(h(!1),!0):f?(b(!1),!0):m?(r(!1),!0):a==="kundali"?g&&n.current?(n.current(),!0):(o("calendar"),!0):a==="converter"||a==="settings"||a==="privacy"||a==="radio"?(o("calendar"),!0):!1,[c,f,m,a,g]);t.useEffect(()=>{const l=()=>{k.current=0,E(!1),i.current&&(clearTimeout(i.current),i.current=null)};if(window.handleBackPress=()=>{if(j())return l(),!0;if(k.current+=1,k.current===1)return E(!0),navigator.vibrate&&navigator.vibrate(50),i.current&&clearTimeout(i.current),i.current=window.setTimeout(()=>l(),2e3),!0;{l();const p=window.Android;return typeof p<"u"&&typeof p.exitApp=="function"?(p.exitApp(),!0):!1}},!d){const y=()=>{const S=new URL(window.location.href);S.hash=`#${Date.now()}`,window.history.pushState({dummy:!0},"",S.toString())};y();const p=()=>{if(j()){y();return}k.current+=1,k.current===1?(E(!0),navigator.vibrate&&navigator.vibrate(50),i.current&&clearTimeout(i.current),i.current=window.setTimeout(()=>l(),2e3),y()):(l(),window.history.go(-2))};return window.addEventListener("popstate",p),()=>{window.removeEventListener("popstate",p),l(),window.handleBackPress=void 0}}return()=>{d&&l()}},[d,j]);const A=l=>{u(l),h(!0)},C=t.useCallback(l=>{n.current=l},[]);return{activeView:a,setActiveView:o,selectedDate:w,isModalOpen:c,setIsModalOpen:h,isMenuOpen:m,setIsMenuOpen:r,isAboutOpen:f,setIsAboutOpen:b,isKundaliResultsVisible:g,setIsKundaliResultsVisible:s,showExitToast:T,handleDayClick:A,isAndroidWebView:d,setKundaliBackAction:C}},De=(a,o)=>{const[w,u]=t.useState(!1),[c,h]=t.useState(null),[m,r]=t.useState(null),[f,b]=t.useState(!1),[g,s]=t.useState(null);return t.useEffect(()=>{typeof window.Android<"u"&&typeof window.Android.openWidgetSettings=="function"&&u(!0)},[]),t.useEffect(()=>{const i=k=>{if(k?.preventDefault?.(),a){o(!1);return}if(f)window.Android?.exitApp?window.Android.exitApp():window.history.length>1?window.history.back():window.close();else{b(!0);const d=window.setTimeout(()=>b(!1),2e3);s(d)}};return window.addEventListener("popstate",i),document.addEventListener("backbutton",i),()=>{window.removeEventListener("popstate",i),document.removeEventListener("backbutton",i),g&&clearTimeout(g)}},[a,f,g,o]),{isAndroidApp:w,showExitToast:f,handleTouchStart:i=>{h(i.touches[0].clientX),r(null)},handleTouchMove:i=>r(i.touches[0].clientX),handleTouchEnd:()=>{if(!c||!m)return;const i=m-c;i>60&&c<50?o(!0):i<-60&&a&&o(!1),h(null),r(null)}}},Me=t.lazy(()=>N(()=>import("./pages-BNsnznQx.js").then(a=>a.K),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),Be=t.lazy(()=>N(()=>import("./pages-BNsnznQx.js").then(a=>a.c),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),Oe=t.lazy(()=>N(()=>import("./pages-BNsnznQx.js").then(a=>a.S),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),Ve=t.lazy(()=>N(()=>import("./pages-BNsnznQx.js").then(a=>a.b),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),Ye=t.lazy(()=>N(()=>import("./pages-BNsnznQx.js").then(a=>a.r),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),ze=t.lazy(()=>N(()=>import("./pages-BNsnznQx.js").then(a=>a.D),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),We=()=>{const{theme:a,toggleTheme:o,resetTheme:w}=_e(),{menuStyle:u,desktopLayoutStyle:c,handleSetMenuStyle:h,handleSetDesktopLayoutStyle:m,resetLayoutSettings:r}=Le(),{isStandalone:f,canInstall:b,handleInstallClick:g}=Pe(),{activeView:s,setActiveView:n,selectedDate:T,isModalOpen:E,setIsModalOpen:i,isMenuOpen:k,setIsMenuOpen:d,isAboutOpen:I,setIsAboutOpen:j,handleDayClick:A,setIsKundaliResultsVisible:C,setKundaliBackAction:l,showExitToast:y}=Re(),{activeSystem:p,currentYear:S,currentMonth:_,currentBsYear:z,currentBsMonth:W,currentAdYear:K,currentAdMonth:X,switchSystem:U,goToToday:$,changeMonth:P,changeYear:R,setCurrentBsYear:F,setCurrentAdYear:H,setCurrentBsMonth:G,setCurrentAdMonth:q,initialToday:D,initialTodayBs:J,todayDetails:M}=Ne(),{isAndroidApp:Q,handleTouchStart:Z,handleTouchMove:ee,handleTouchEnd:te}=De(k,d),ae=()=>{w(),r(),O.info("Settings reset to default",2e3)};t.useEffect(()=>{new URLSearchParams(window.location.search).get("activeView")==="radio"&&(n("radio"),window.history.replaceState({},"","/"))},[n]),t.useEffect(()=>{y&&O.info(p==="bs"?"à¤¬à¤¨à¥à¤¦ à¤—à¤°à¥à¤¨à¤•à¥‹ à¤²à¤¾à¤—à¤¿ à¤«à¥‡à¤°à¤¿ à¤¥à¤¿à¤šà¥à¤¨à¥à¤¹à¥‹à¤¸à¥":"Press back again to exit",2e3)},[y,p]);const se=()=>{A(D)};return e.jsxs("div",{className:`min-h-screen flex flex-col bg-slate-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-colors relative ${c==="sidebar"?"md:flex-row":""} ${a==="dark"?"dark":""}`,onTouchStart:Z,onTouchMove:ee,onTouchEnd:te,children:[c==="topbar"&&e.jsxs("div",{className:"w-full flex items-center justify-between px-4 py-2 bg-slate-200 dark:bg-gray-800 z-30 print:hidden",children:[e.jsx(pe,{activeView:s,onNavigate:v=>{v==="about"?j(!0):n(v)}}),!f&&b&&e.jsxs("button",{onClick:g,className:"hidden md:flex ml-4 p-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 items-center gap-2 text-sm",children:[e.jsx(L,{className:"w-4 h-4"})," ",e.jsx("span",{children:x.installApp})]})]}),e.jsx("header",{className:"px-4 py-2 dark:border-gray-700 bg-slate-200 dark:bg-gray-800 z-30 md:hidden",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[u==="slide"&&e.jsx("button",{onClick:()=>d(!0),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:e.jsx(ne,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-lg sm:text-xl font-semibold",children:x.Nepdate_calendar})]}),u==="tabs"&&!f&&b&&e.jsxs("button",{onClick:g,className:"px-3 py-2 text-left text-xs rounded bg-blue-600 text-white hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(L,{className:"w-5 h-5"})," ",e.jsx("span",{children:x.installApp})]})]})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 md:hidden",onClick:()=>d(!1)}),e.jsx("aside",{className:`fixed top-0 left-0 z-50 h-full bg-slate-200 dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out
          ${k?"translate-x-0":"-translate-x-full"}
          ${c==="sidebar"?"md:translate-x-0 md:sticky md:h-screen md:w-56":"md:hidden w-64"}`,children:e.jsxs("div",{className:"flex flex-col h-full p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Menu"}),e.jsx("button",{onClick:()=>d(!1),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 md:hidden",children:e.jsx(re,{className:"w-5 h-5"})})]}),e.jsxs("nav",{className:"flex flex-col space-y-3 text-gray-800 dark:text-gray-200",children:[e.jsxs("button",{onClick:()=>{n("calendar"),d(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(oe,{className:"w-4 h-4"})," ",x.home]}),e.jsxs("button",{onClick:()=>{n("converter"),d(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(le,{className:"w-4 h-4"})," ",x.converter]}),e.jsxs("button",{onClick:()=>{n("kundali"),d(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:["ðŸ”¯ ",x.kundali]}),e.jsxs("button",{onClick:()=>{n("radio"),d(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(ie,{className:"w-4 h-4"})," ",x.radio]}),e.jsxs("button",{onClick:()=>{n("dharma"),d(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(de,{className:"w-4 h-4"})," ",x.dharma]}),e.jsxs("button",{onClick:()=>{n("settings"),d(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(ce,{className:"w-4 h-4"})," ",x.settings]}),e.jsxs("button",{onClick:()=>{n("privacy"),d(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(B,{className:"w-4 h-4"})," ",x.privacyPolicy]}),e.jsxs("button",{onClick:()=>{j(!0),d(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[e.jsx(B,{className:"w-4 h-4"})," ",x.about]}),!f&&b&&e.jsxs("button",{onClick:()=>{g(),d(!1)},className:"px-3 py-2 flex items-center gap-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:[e.jsx(L,{className:"w-4 h-4"})," ",x.installApp]}),e.jsxs("button",{onClick:()=>{o(),d(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[a==="light"?e.jsx(ue,{className:"w-4 h-4"}):e.jsx(he,{className:"w-4 h-4"})," ",a==="light"?x.darkMode:x.lightMode]}),e.jsx("hr",{className:"border-gray-300 dark:border-gray-600 my-2"}),e.jsxs("button",{onClick:()=>{V(),d(!1)},className:"px-3 py-2 flex items-center gap-2 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/50",children:[e.jsx(me,{className:"w-4 h-4"})," Clear Cache & Reload"]})]}),e.jsxs("div",{className:"mt-auto text-xs text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700 pt-4",children:["Â© ",new Date().getFullYear()," ",x.project]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx("div",{className:`h-full overflow-auto px-4 md:px-6 max-w-7xl xl:max-w-6xl mx-auto w-full ${u==="tabs"?"pb-24 md:pb-6":"pb-20 md:pb-6"}`,children:s==="kundali"?e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Me,{onBack:()=>n("calendar"),setIsKundaliResultsVisible:C,setKundaliBackAction:l})}):s==="calendar"?e.jsxs(e.Fragment,{children:[e.jsx(ge,{activeSystem:p,bsYear:z,bsMonth:W,adYear:K,adMonth:X,onSystemChange:U,onTodayClick:$,theme:a,onThemeToggle:o,todayDetails:M}),e.jsxs("main",{className:"min-h-[60vh] md:grid md:grid-cols-12 md:gap-x-6",children:[e.jsx("aside",{className:"hidden md:block md:col-span-4",children:e.jsx(xe,{todayAd:D,todayBs:J,todayDetails:M,onShowDetailsClick:se})}),e.jsxs("div",{className:"md:col-span-8 flex flex-col",children:[e.jsx(be,{activeSystem:p,currentYear:S,currentMonth:_,onYearChange:v=>p==="bs"?F(v):H(v),onMonthChange:v=>p==="bs"?G(v):q(v),onPrevMonth:()=>P("prev"),onNextMonth:()=>P("next"),onPrevYear:()=>R("prev"),onNextYear:()=>R("next")}),e.jsx(ye,{activeSystem:p,currentYear:S,currentMonth:_,onDayClick:A}),e.jsx(ve,{activeSystem:p,currentYear:S,currentMonth:_})]})]})]}):s==="dharma"?e.jsxs(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:[e.jsx(ze,{onBack:()=>n("calendar")})," "]}):s==="converter"?e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Be,{onBack:()=>n("calendar")})}):s==="settings"?e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Oe,{onBack:()=>n("calendar"),currentTheme:a,onThemeChange:o,currentMenuStyle:u,onMenuStyleChange:h,currentDesktopLayoutStyle:c,onDesktopLayoutStyleChange:m,onResetSettings:ae,isAndroidApp:Q,onReloadApp:V})}):s==="privacy"?e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Ve,{})}):s==="radio"?e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Ye,{})}):null})}),u==="slide"&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-slate-200 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-50 print:hidden md:hidden",children:e.jsx(we,{})}),u==="tabs"&&e.jsx("div",{className:"md:hidden print:hidden",children:e.jsx(ke,{activeView:s,onNavigate:v=>{v==="about"?j(!0):n(v==="privacy"?"privacy":v)}})}),e.jsx(Se,{date:T,isOpen:E,onClose:()=>i(!1)}),I&&e.jsx(Ee,{setIsAboutOpen:j}),e.jsx(je,{})]})};Te.Icon.Default.mergeOptions({iconUrl:Ce,shadowUrl:Ie,iconRetinaUrl:Ae});Y({onNeedRefresh(){confirm("A new version is available. Reload to update?")&&window.location.reload()},onOfflineReady(){console.log("App ready to work offline")}});fe.createRoot(document.getElementById("root")).render(e.jsx(t.StrictMode,{children:e.jsx(We,{})}));
