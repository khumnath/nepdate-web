const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./vendor-other-DqgQExus.js","./vendor-other-CpcPjAv7.css","./pages-BBElonu2.js","./vendor-react-BaosodHq.js","./vendor-leaflet-Ch3uxlbW.js","./vendor-leaflet-Dgihpmma.css","./bikram-DT3LmB0w.js","./data-COqTRNzN.js","./kundali-46MHrjXi.js","./vendor-utils-y-iLWhYP.js"])))=>i.map(i=>d[i]);
import{j as e,ac as Ee,a9 as Ae,g as Ce,R as te,X as pe,ad as Pe,f as Z,r as t,e as L,ae as Ie,D as ie,F as de,M as Le,S as Te,ab as De}from"./vendor-react-BaosodHq.js";import{N as S,ad as se,am as U,g as _e,t as ce,a3 as Re,v as K,Q as Me,an as Be,e as Ve,ao as We,ap as ue,al as ee,aq as Ue,ar as Ye,as as he,at as Oe,au as Fe,av as me,aw as $e,ax as ze,ay as He,az as Xe}from"./bikram-DT3LmB0w.js";import{w as Ke,r as Ge}from"./vendor-other-DqgQExus.js";import{g as Je,B as fe}from"./pages-BBElonu2.js";import"./index-BXinPLYU.js";import{l as qe,m as Qe,a as Ze,b as ea}from"./vendor-leaflet-Ch3uxlbW.js";const X={calendar:[{label:"बैशाख",value:"calendar",param:{month:0}},{label:"जेठ",value:"calendar",param:{month:1}},{label:"असार",value:"calendar",param:{month:2}},{label:"साउन",value:"calendar",param:{month:3}},{label:"भदौ",value:"calendar",param:{month:4}},{label:"असोज",value:"calendar",param:{month:5}}],calendar2:[{label:"कार्तिक",value:"calendar",param:{month:6}},{label:"मंसिर",value:"calendar",param:{month:7}},{label:"पुस",value:"calendar",param:{month:8}},{label:"माघ",value:"calendar",param:{month:9}},{label:"फाल्गुन",value:"calendar",param:{month:10}},{label:"चैत",value:"calendar",param:{month:11}}],rashifal:[{label:"मेष",value:"rashifal",param:"mesh"},{label:"वृष",value:"rashifal",param:"brish"},{label:"मिथुन",value:"rashifal",param:"mithun"},{label:"कर्कट",value:"rashifal",param:"karkat"},{label:"सिंह",value:"rashifal",param:"simha"},{label:"कन्या",value:"rashifal",param:"kanya"}],rashifal2:[{label:"तुला",value:"rashifal",param:"tula"},{label:"वृश्चिक",value:"rashifal",param:"brishchik"},{label:"धनु",value:"rashifal",param:"dhanu"},{label:"मकर",value:"rashifal",param:"makar"},{label:"कुम्भ",value:"rashifal",param:"kumbha"},{label:"मीन",value:"rashifal",param:"meen"}],services:[{label:S.converter,value:"converter"},{label:"राशिफल",value:"rashifal"},{label:S.kundali,value:"kundali"},{label:S.radio,value:"radio"},{label:"हाम्रो फेसबुक",value:"facebook"}]},aa=({onNavigate:s})=>{const r=(a,o,i)=>{a.preventDefault(),s(o,i),o==="calendar"?setTimeout(()=>{const j=document.getElementById("main-calendar-grid");j?j.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})},100):window.scrollTo({top:0,behavior:"smooth"})};return e.jsx("footer",{className:"hidden md:block bg-gray-100 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 pt-10 pb-8 mt-auto",children:e.jsxs("div",{className:"max-w-7xl xl:max-w-6xl mx-auto px-4 md:px-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-8 mb-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-bold mb-4 uppercase text-sm tracking-wider font-rhodium",children:"नेपाली पात्रो (Calendar)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4",children:[e.jsx("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:X.calendar.map((a,o)=>e.jsx("li",{children:e.jsx("button",{onClick:i=>r(i,a.value,a.param),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors cursor-pointer text-left font-rhodium",children:a.label})},o))}),e.jsx("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:X.calendar2.map((a,o)=>e.jsx("li",{children:e.jsx("button",{onClick:i=>r(i,a.value,a.param),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors cursor-pointer text-left font-rhodium",children:a.label})},o))})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-bold mb-4 uppercase text-sm tracking-wider font-rhodium",children:"आजको राशिफल (Horoscope)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4",children:[e.jsx("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:X.rashifal.map((a,o)=>e.jsx("li",{children:e.jsx("button",{onClick:i=>r(i,a.value,a.param),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors cursor-pointer text-left font-rhodium",children:a.label})},o))}),e.jsx("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:X.rashifal2.map((a,o)=>e.jsx("li",{children:e.jsx("button",{onClick:i=>r(i,a.value,a.param),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors cursor-pointer text-left font-rhodium",children:a.label})},o))})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-bold mb-4 uppercase text-sm tracking-wider font-rhodium",children:"सेवाहरू (Services)"}),e.jsx("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:X.services.map((a,o)=>e.jsx("li",{children:e.jsx("button",{onClick:i=>r(i,a.value),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors cursor-pointer text-left font-rhodium",children:a.label})},o))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 -ml-2",children:e.jsx(se,{activeSystem:"bs"})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6 leading-relaxed",children:"Your trusted partner for Nepali dates, festivals, astrology, and muhurtas."}),e.jsx("a",{href:"https://play.google.com/store/apps/details?id=com.khumnath.nepdate",target:"_blank",rel:"noopener noreferrer",className:"inline-block mb-6",children:e.jsx("img",{src:"https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png",alt:"Get it on Google Play",className:"h-16 -ml-3"})}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{children:"aksharlabstudio1@gmail.com"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{children:"Butwal, Nepal"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 shrink-0"}),e.jsx("a",{href:"https://www.facebook.com/people/NepDate-Patro/61584433679641/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-600 transition-colors",children:"NepDate Patro"})]})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["© ",new Date().getFullYear()," NepDate Patro. All Rights Reserved."]})})]})})},ta=({isOpen:s,onConfirm:r,onCancel:a})=>s?e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[100] p-4 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-md w-full border border-gray-200 dark:border-gray-700 transform transition-all scale-100 p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:e.jsx(te,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white font-[Outfit]",children:S.updateAvailable})]}),e.jsx("button",{onClick:a,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:e.jsx(pe,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:S.updateMessage}),e.jsxs("div",{className:"mt-3 flex items-start gap-2 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-100 dark:border-amber-900/50",children:[e.jsx(Pe,{className:"w-4 h-4 text-amber-600 dark:text-amber-400 mt-0.5 shrink-0"}),e.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:S.updateWarning})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:a,className:"px-5 py-2.5 rounded-xl text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:S.notNow}),e.jsxs("button",{onClick:r,className:"px-5 py-2.5 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-medium shadow-lg shadow-blue-500/25 transition-all active:scale-95 flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4"}),S.updateNow]})]})]})}):null,sa=({variant:s="widget",message:r,className:a=""})=>s==="fullscreen"?e.jsxs("div",{className:`fixed inset-0 z-50 flex flex-col items-center justify-center bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm ${a}`,children:[e.jsx(Z,{className:"w-12 h-12 text-primary animate-spin mb-4 text-orange-600"}),r&&e.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium animate-pulse",children:r})]}):s==="page"?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-[40vh] p-8 ${a}`,children:[e.jsx(Z,{className:"w-10 h-10 text-orange-500 animate-spin mb-4"}),r&&e.jsx("p",{className:"text-gray-500 dark:text-gray-400 animate-pulse",children:r})]}):s==="inline"?e.jsxs("div",{className:`inline-flex items-center justify-center gap-2 ${a}`,children:[e.jsx(Z,{className:"w-4 h-4 text-current animate-spin"}),r&&e.jsx("span",{children:r})]}):e.jsxs("div",{className:`flex flex-col items-center justify-center py-12 bg-white dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700 shadow-sm ${a}`,children:[e.jsx(Z,{className:"w-8 h-8 text-orange-400 animate-spin mb-3"}),e.jsx("div",{className:"h-2 w-24 bg-gray-100 dark:bg-gray-700 rounded animate-pulse"}),r&&e.jsx("p",{className:"mt-2 text-xs text-gray-400",children:r})]}),ra=({message:s="लोड हुँदैछ...",transparent:r=!1})=>e.jsxs("div",{className:`fixed inset-0 z-[10000] flex flex-col items-center justify-center transition-all duration-500 ${r?"bg-white/60 dark:bg-gray-900/60 backdrop-blur-md":"bg-slate-50 dark:bg-gray-900"}`,children:[e.jsxs("div",{className:"relative flex flex-col items-center",children:[e.jsx("div",{className:"absolute inset-0 bg-orange-500/20 dark:bg-orange-500/10 blur-[60px] rounded-full animate-pulse scale-150"}),e.jsxs("div",{className:"relative mb-8 animate-bounce transition-transform duration-1000 ease-in-out",style:{animationDuration:"3s"},children:[e.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700",children:e.jsx(se,{activeSystem:"bs"})}),e.jsx("div",{className:"absolute -inset-4 border border-orange-500/20 rounded-full animate-[spin_10s_linear_infinite]"}),e.jsx("div",{className:"absolute -inset-8 border border-blue-500/10 rounded-full animate-[spin_15s_linear_infinite_reverse]"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-700 to-orange-600 bg-clip-text text-transparent dark:from-blue-400 dark:to-orange-400 tracking-tight",style:{fontFamily:"'Mukta', sans-serif"},children:"नेपडेट पात्रो"}),e.jsx("div",{className:"w-32 h-1 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden relative",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-orange-500 animate-[loading_1.5s_ease-in-out_infinite]"})}),s&&e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 animate-pulse tracking-wide",children:s})]})]}),e.jsx("style",{children:`
        @keyframes loading {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
      `})]}),na=()=>{const[s,r]=t.useState("tabs"),[a,o]=t.useState("topbar");return t.useEffect(()=>{const u=localStorage.getItem("menuStyle");r(u||"tabs");const x=localStorage.getItem("desktopLayoutStyle");o(x||"topbar")},[]),{menuStyle:s,desktopLayoutStyle:a,handleSetMenuStyle:u=>{r(u),localStorage.setItem("menuStyle",u)},handleSetDesktopLayoutStyle:u=>{o(u),localStorage.setItem("desktopLayoutStyle",u)},resetLayoutSettings:()=>{localStorage.removeItem("menuStyle"),localStorage.removeItem("desktopLayoutStyle"),r("tabs"),o("topbar")}}};function ge(s={}){const{immediate:r=!1,onNeedRefresh:a,onOfflineReady:o,onRegistered:i,onRegisteredSW:j,onRegisterError:p}=s;let u,x,b;const y=async(h=!0)=>{await x,b?.()};async function w(){if("serviceWorker"in navigator){if(u=await U(async()=>{const{Workbox:h}=await import("./vendor-other-DqgQExus.js").then(v=>v.x);return{Workbox:h}},__vite__mapDeps([0,1]),import.meta.url).then(({Workbox:h})=>new h("./sw.js",{scope:"./",type:"classic"})).catch(h=>{p?.(h)}),!u)return;b=()=>{u?.messageSkipWaiting()};{let h=!1;const v=()=>{h=!0,u?.addEventListener("controlling",n=>{n.isUpdate&&window.location.reload()}),a?.()};u.addEventListener("installed",n=>{typeof n.isUpdate>"u"?typeof n.isExternal<"u"&&n.isExternal?v():!h&&o?.():n.isUpdate||o?.()}),u.addEventListener("waiting",v)}u.register({immediate:r}).then(h=>{j?j("./sw.js",h):i?.(h)}).catch(h=>{p?.(h)})}}return x=w(),y}const la=()=>{const[s,r]=t.useState(!1),[a,o]=t.useState(!1),[i,j]=t.useState(()=>localStorage.getItem("pwa_installed")==="true"),[p,u]=t.useState(null);return t.useEffect(()=>{ge({immediate:!0})},[]),t.useEffect(()=>{const b=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;if(r(!!b),b){j(!0);return}const y=()=>{localStorage.setItem("pwa_installed","true"),j(!0),o(!1)};window.addEventListener("appinstalled",y),"getInstalledRelatedApps"in navigator&&navigator.getInstalledRelatedApps().then(h=>{h.length>0&&(localStorage.getItem("pwa_installed")!=="true"&&localStorage.setItem("pwa_installed","true"),j(!0))});const w=h=>{h.preventDefault(),localStorage.removeItem("pwa_installed"),j(!1),u(h),o(!0)};return window.addEventListener("beforeinstallprompt",w),()=>{window.removeEventListener("appinstalled",y),window.removeEventListener("beforeinstallprompt",w)}},[]),{isStandalone:s,canInstall:a,isInstalled:i,deferredPrompt:p,handleInstallClick:async()=>{p&&(p.prompt(),await p.userChoice,u(null),o(!1))}}},oa=()=>{const[s]=t.useState(_e()),[r]=t.useState(()=>ce(s)),[a,o]=t.useState(null);t.useEffect(()=>{try{const N=new Date(s);N.setUTCHours(0,0,0,0);const D=Re(N,27.7172,85.324,5.75);"error"in D?K(`Error from calculate:'${D.error}`,"error",2e3):o(D)}catch(N){K(`Error calculating today details:${N}`,"error",2e3)}},[]);const[i,j]=t.useState("bs"),[p,u]=t.useState(r.year),[x,b]=t.useState(r.monthIndex),[y,w]=t.useState(s.getFullYear()),[h,v]=t.useState(s.getMonth()),n=t.useMemo(()=>i==="bs"?p:y,[i,p,y]),d=t.useMemo(()=>i==="bs"?x:h,[i,x,h]),C=t.useCallback(()=>{u(r.year),b(r.monthIndex),w(s.getFullYear()),v(s.getMonth())},[s,r]),V=t.useCallback(f=>{if(f===i)return;const g=y===s.getFullYear()&&h===s.getMonth(),E=p===r.year&&x===r.monthIndex;if(f==="bs"&&g||f==="ad"&&E)C();else if(f==="bs"){const N=y??s.getFullYear(),F=Me(N,h,12),O=Be(F),A=ce(O);A.year===0||!A.year?C():(u(A.year),b(A.monthIndex))}else if(p===null)C();else{const N=Ve(p,x,18);w(N.getUTCFullYear()),v(N.getUTCMonth())}j(f)},[i,y,h,p,x,s,r,C]),Y=t.useCallback(f=>{if(i==="bs"){const g=f==="prev"?x-1:x+1;g<0?(b(11),u(E=>(E??r.year)-1)):g>11?(b(0),u(E=>(E??r.year)+1)):b(g)}else{const g=f==="prev"?h-1:h+1;g<0?(v(11),w(E=>(E??s.getFullYear())-1)):g>11?(v(0),w(E=>(E??s.getFullYear())+1)):v(g)}},[i,x,h,s,r]),T=t.useCallback(f=>{i==="bs"?u(g=>(g??r.year)+(f==="next"?1:-1)):w(g=>(g??s.getFullYear())+(f==="next"?1:-1))},[i,s,r]);return{activeSystem:i,currentBsYear:p,currentBsMonth:x,currentAdYear:y,currentAdMonth:h,currentYear:n,currentMonth:d,switchSystem:V,goToToday:C,changeMonth:Y,changeYear:T,setCurrentBsYear:u,setCurrentBsMonth:b,setCurrentAdYear:w,setCurrentAdMonth:v,initialToday:s,initialTodayBs:r,todayDetails:a}},ia=()=>{const[s,r]=t.useState(()=>{if(typeof window>"u")return null;const l=window.location.hash.replace("#","");if(l.startsWith("post/")){const c=l.split("/");if(c.length>=3)return{source:c[1],slug:decodeURIComponent(c.slice(2).join("/"))}}return null}),[a,o]=t.useState(()=>{if(typeof window>"u")return"calendar";const l=window.location.pathname;if(l.includes("/bs")||l.includes("/ad"))return"day-detail";const c=window.location.hash.replace("#","");if(!c){const I=new URLSearchParams(window.location.search).get("activeView");return I||"calendar"}return c.startsWith("bs?")||c.startsWith("ad?")?"day-detail":c.startsWith("post/")?"blog-detail":c.split("/")[0]||"calendar"}),i=t.useRef("calendar"),[j,p]=t.useState(null),[u,x]=t.useState(!1),[b,y]=t.useState(!1),[w,h]=t.useState(!1),[v,n]=t.useState(!1),d=t.useRef(null),C=t.useRef(null),[V,Y]=t.useState(!1),T=t.useRef(null),f=t.useRef(0),[g,E]=t.useState(!1);t.useEffect(()=>{let l=null,c=0;const W=25,P=()=>{c++,typeof window.Android<"u"?(E(!0),l&&clearInterval(l)):c>=W&&l&&clearInterval(l)};return P(),g||(l=window.setInterval(P,2e3)),()=>{l&&clearInterval(l)}},[]),t.useEffect(()=>{const l=window.location.hash.replace("#","");if(a==="blog-detail"&&l.startsWith("post/")){const c=l.split("/");c.length>=3&&r({source:c[1],slug:decodeURIComponent(c.slice(2).join("/"))})}},[a]),t.useEffect(()=>{if(g)return;let l="";if(a!=="calendar"){if(a==="day-detail")return;a==="blog-detail"&&s?l=`post/${s.source}/${s.slug}`:(l=a,a==="kundali"&&w?l+="/result":a==="dharma"&&v&&(l+="/section"))}const c=window.location.hash.replace("#",""),P=(window.location.pathname.includes("/bs")||window.location.pathname.includes("/ad"))&&a!=="day-detail";if(c!==l||P){let I=l?`#${l}`:window.location.pathname;P?I=`/${l?"#"+l:""}`:a==="calendar"&&(I=window.location.pathname);const $=i.current!==a,_=a==="blog-detail",G=i.current!=="calendar"&&a!=="calendar"&&!_,J=c===""||l.startsWith(c)&&l!==c;$&&G?window.history.replaceState({view:a},"",I):!$&&!J?window.history.replaceState({view:a},"",I):window.history.pushState({view:a},"",I)}i.current=a},[a,w,v,g,s]),t.useEffect(()=>{const l=c=>{b&&c.key==="Backspace"&&(c.preventDefault(),y(!1))};return b&&window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[b]);const N=t.useCallback(()=>{if(u)return x(!1),!0;if(b)return y(!1),!0;if(a==="kundali"&&w&&d.current)return d.current(),!0;if(a==="dharma"&&v&&C.current)return C.current(),!0;if(g){if(a==="blog-detail"&&s?.source)return o(s.source),r(null),!0;if(a!=="calendar")return o("calendar"),!0}return!1},[u,b,a,w,v,g,s]),D=t.useRef(N);t.useEffect(()=>{D.current=N},[N]),t.useEffect(()=>{const l=()=>{f.current=0,Y(!1),T.current&&(clearTimeout(T.current),T.current=null)};if(g)return window.handleBackPress=()=>D.current()?(l(),!0):(f.current+=1,f.current===1?(Y(!0),navigator.vibrate&&navigator.vibrate(50),T.current=window.setTimeout(l,2e3),!0):(typeof window.Android?.exitApp=="function"&&window.Android.exitApp(),!1)),()=>{l()};{const c=()=>{if(D.current()){if(window.location.hash.replace("#","")===a)return;if(window.location.hash.replace("#","")!==(a==="calendar"?"":a)){const q=a==="calendar"?window.location.pathname:`#${a}`;setTimeout(()=>{window.history.replaceState({view:a},"",q)},10)}return}const P=window.location.hash.replace("#","");if(P.startsWith("post/")){const _=P.split("/");_.length>=3&&(r({source:_[1],slug:_.slice(2).join("/")}),o("blog-detail"));return}const I=P.split("/")[0];o(I===""?"calendar":I)};return window.addEventListener("popstate",c),()=>window.removeEventListener("popstate",c)}},[g,a]);const F=l=>{p(l),x(!0)},O=t.useCallback(l=>{d.current=l},[]),A=t.useCallback(l=>{C.current=l},[]);return{activeView:a,setActiveView:o,selectedDate:j,isModalOpen:u,setIsModalOpen:x,isMenuOpen:b,setIsMenuOpen:y,isKundaliResultsVisible:w,setIsKundaliResultsVisible:h,setKundaliBackAction:O,isDharmaResultsVisible:v,setIsDharmaResultsVisible:n,setDharmaBackAction:A,showExitToast:V,handleDayClick:F,isAndroidWebView:g,postParams:s,setPostParams:r}},da=(s,r)=>{const[a,o]=t.useState(!1),[i,j]=t.useState(null),[p,u]=t.useState(null),[x,b]=t.useState(!1),[y,w]=t.useState(null);return t.useEffect(()=>{typeof window.Android<"u"&&typeof window.Android.openWidgetSettings=="function"&&o(!0)},[]),t.useEffect(()=>{const d=C=>{if(C?.preventDefault?.(),s){r(!1);return}if(x)window.Android?.exitApp?window.Android.exitApp():window.history.length>1?window.history.back():window.close();else{b(!0);const V=window.setTimeout(()=>b(!1),2e3);w(V)}};return window.addEventListener("popstate",d),document.addEventListener("backbutton",d),()=>{window.removeEventListener("popstate",d),document.removeEventListener("backbutton",d),y&&clearTimeout(y)}},[s,x,y,r]),{isAndroidApp:a,showExitToast:x,handleTouchStart:d=>{j(d.touches[0].clientX),u(null)},handleTouchMove:d=>u(d.touches[0].clientX),handleTouchEnd:()=>{if(!i||!p)return;const d=p-i;d>60&&i<50?r(!0):d<-60&&s&&r(!1),j(null),u(null)}}},ca=L.lazy(()=>U(()=>import("./pages-BBElonu2.js").then(s=>s.c),__vite__mapDeps([2,3,0,1,4,5,6,7,8,9]),import.meta.url)),ua=L.lazy(()=>U(()=>import("./pages-BBElonu2.js").then(s=>s.E),__vite__mapDeps([2,3,0,1,4,5,6,7,8,9]),import.meta.url)),ha=L.lazy(()=>U(()=>import("./pages-BBElonu2.js").then(s=>s.b),__vite__mapDeps([2,3,0,1,4,5,6,7,8,9]),import.meta.url)),ma=L.lazy(()=>U(()=>import("./pages-BBElonu2.js").then(s=>s.d),__vite__mapDeps([2,3,0,1,4,5,6,7,8,9]),import.meta.url)),fa=L.lazy(()=>U(()=>import("./pages-BBElonu2.js").then(s=>s.e),__vite__mapDeps([2,3,0,1,4,5,6,7,8,9]),import.meta.url)),pa=L.lazy(()=>U(()=>import("./pages-BBElonu2.js").then(s=>s.f),__vite__mapDeps([2,3,0,1,4,5,6,7,8,9]),import.meta.url)),ga=()=>{const[s,r]=L.useState(!1);t.useEffect(()=>{const m=()=>r(!0);return window.addEventListener("pwa-update-available",m),()=>window.removeEventListener("pwa-update-available",m)},[]);const a=()=>{window.triggerAppUpdate?window.triggerAppUpdate(!0):window.location.reload(),r(!1)},{theme:o,toggleTheme:i,resetTheme:j}=We(),{menuStyle:p,desktopLayoutStyle:u,handleSetMenuStyle:x,handleSetDesktopLayoutStyle:b,resetLayoutSettings:y}=na(),{isStandalone:w,canInstall:h,handleInstallClick:v}=la(),{activeView:n,setActiveView:d,selectedDate:C,isModalOpen:V,setIsModalOpen:Y,isMenuOpen:T,setIsMenuOpen:f,handleDayClick:g,setIsKundaliResultsVisible:E,setKundaliBackAction:N,setIsDharmaResultsVisible:D,setDharmaBackAction:F,showExitToast:O,postParams:A,setPostParams:l}=ia(),{activeSystem:c,currentYear:W,currentMonth:P,switchSystem:I,goToToday:$,changeMonth:_,changeYear:G,setCurrentBsYear:J,setCurrentAdYear:re,setCurrentBsMonth:q,setCurrentAdMonth:ne,initialToday:le,initialTodayBs:xe,todayDetails:be}=oa(),{isAndroidApp:we,handleTouchStart:ve,handleTouchMove:ye,handleTouchEnd:ke}=da(T,f),[ae,R]=L.useState(null),[Q,je]=L.useState(null),Ne=()=>{j(),y(),K.info("Settings reset to default",2e3)};t.useEffect(()=>{if(new URLSearchParams(window.location.search).get("app_updated")==="true"){K.success("Latest version loaded successfully",4e3);const k=new URL(window.location.href);k.searchParams.delete("app_updated"),window.history.replaceState({},"",k.toString())}},[]),t.useEffect(()=>{const k=new URLSearchParams(window.location.search).get("activeView");k?(d(k),window.history.replaceState({},"",ue())):(window.location.hash&&(window.location.hash.startsWith("#bs?")||window.location.hash.startsWith("#ad?"))||window.location.pathname.endsWith("/bs")||window.location.pathname.endsWith("/bs.html")||window.location.pathname.endsWith("/ad")||window.location.pathname.endsWith("/ad.html"))&&d("day-detail")},[d]),t.useEffect(()=>{const m=()=>d("print-calendar");return window.addEventListener("navigate-to-print-calendar",m),()=>window.removeEventListener("navigate-to-print-calendar",m)},[]),t.useEffect(()=>{const m=()=>{document.documentElement.classList.remove("dark")},k=()=>{o==="dark"&&document.documentElement.classList.add("dark")};return window.addEventListener("beforeprint",m),window.addEventListener("afterprint",k),()=>{window.removeEventListener("beforeprint",m),window.removeEventListener("afterprint",k)}},[o]),t.useEffect(()=>{O&&K.info("Press back again to exit",2e3)},[O]);const Se=()=>g(le);t.useEffect(()=>{if(n==="blog-detail"&&A){const k=Je().find(M=>ee(M.title)===A.slug);k&&je(k)}},[n,A]);const oe=()=>{A?.source?(d(A.source),l(null)):d("calendar")};return e.jsx(Ue,{isRadioActive:n==="radio",children:e.jsxs("div",{className:`fixed inset-0 h-[100dvh] w-full flex flex-col bg-slate-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-colors overflow-hidden ${u==="sidebar"?"md:flex-row":""} ${o==="dark"&&n!=="print-calendar"?"dark":""}`,onTouchStart:ve,onTouchMove:ye,onTouchEnd:ke,children:[u==="topbar"&&e.jsx("div",{className:"w-full sticky top-0 z-30 print:hidden hidden md:block border-b border-gray-200 dark:border-gray-700",children:e.jsx(Ye,{activeView:n,activeSystem:c,onNavigate:m=>{R(null),d(m)},showInstall:!w&&h,onInstallClick:v,theme:o,onThemeToggle:i})}),n==="calendar"&&e.jsx("header",{className:"sticky top-0 px-4 pt-2 bg-transparent z-30 md:hidden",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>f(!0),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700","aria-label":"Open menu",children:e.jsx(Ie,{className:"w-5 h-5"})}),e.jsx(se,{activeSystem:c,hideControl:n!=="calendar"})]}),p==="tabs"&&!w&&h&&e.jsxs("button",{onClick:v,className:"px-3 py-2 text-left text-xs rounded bg-blue-600 text-white hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(ie,{className:"w-5 h-5"})," ",e.jsx("span",{children:S.installApp})]})]})}),T&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 md:hidden",onClick:()=>f(!1)}),e.jsx("aside",{className:`fixed top-0 left-0 z-[10001] h-full bg-slate-200 dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out
          ${T?"translate-x-0":"-translate-x-full"}
          ${u==="sidebar"?"md:translate-x-0 md:sticky md:h-screen md:w-56":"md:hidden w-64"}`,children:e.jsxs("div",{className:"flex flex-col h-full p-4 overflow-y-auto pb-24 no-scrollbar",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 font-rhodium",children:"Menu"}),e.jsx("button",{onClick:()=>f(!1),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 md:hidden",children:e.jsx(pe,{className:"w-5 h-5"})})]}),e.jsxs("nav",{className:"flex flex-col space-y-3 text-gray-800 dark:text-gray-200",children:[he.map(m=>e.jsxs("button",{onClick:()=>{R(null),d(m.key),f(!1)},className:`px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700 font-rhodium ${n===m.key?"bg-gray-300 dark:bg-gray-700 font-medium":""}`,children:[m.icon," ",e.jsx("span",{className:"font-rhodium",children:m.label})]},m.key)),typeof window<"u"&&window.Android&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{Oe(),f(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700 font-rhodium",children:[e.jsx(de,{icon:Ke,className:"w-5 h-5 text-emerald-500 drop-shadow-icon"})," ",e.jsx("span",{className:"font-rhodium",children:"Share App"})]}),e.jsxs("button",{onClick:()=>{Fe(),f(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700 font-rhodium",children:[e.jsx(de,{icon:Ge,className:"w-5 h-5 text-amber-500 drop-shadow-icon"})," ",e.jsx("span",{className:"font-rhodium",children:"Rate App"})]})]}),!w&&h&&e.jsxs("button",{onClick:()=>{v(),f(!1)},className:"px-3 py-2 flex items-center gap-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:[e.jsx(ie,{className:"w-4 h-4"})," ",S.installApp]}),e.jsxs("button",{onClick:()=>{i(),f(!1)},className:"px-3 py-2 flex items-center gap-2 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:[o==="light"?e.jsx(Le,{className:"w-4 h-4"}):e.jsx(Te,{className:"w-4 h-4"})," ",o==="light"?S.darkMode:S.lightMode]}),e.jsx("hr",{className:"border-gray-300 dark:border-gray-600 my-2"}),e.jsxs("button",{onClick:()=>{me(),f(!1)},className:"px-3 py-2 flex items-center gap-2 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/50",children:[e.jsx(te,{className:"w-4 h-4"})," Clear Cache & Reload"]})]}),e.jsxs("div",{className:"mt-auto text-xs text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700 pt-4",children:["© ",new Date().getFullYear()," ",S.project]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(t.Suspense,{fallback:e.jsx(ra,{}),children:e.jsxs("div",{id:"app-scroll-container",className:`h-full no-scrollbar mx-auto w-full max-w-7xl xl:max-w-6xl ${n==="calendar"||n==="print-calendar"||n==="blog-detail"||n==="day-detail"||n==="dharma"||n==="kundali"||n==="events"||n==="saait"||n==="daily-saait"||n==="namakaran"||n==="gotra"||n==="ghati"?"overflow-auto":"overflow-hidden"} ${n==="calendar"?"px-4 md:px-6 pb-20 md:pb-6":"p-0"}`,children:[n==="calendar"?e.jsx(pa,{activeSystem:c,currentYear:W,currentMonth:P,switchSystem:I,goToToday:$,theme:o,toggleTheme:i,todayDetails:be,setActiveView:d,initialToday:le,initialTodayBs:xe,handleShowDetailsClick:Se,setCurrentBsYear:J,setCurrentAdYear:re,setCurrentBsMonth:q,setCurrentAdMonth:ne,changeMonth:_,changeYear:G,handleDayClick:g,setPostParams:l,setViewParams:R}):n==="day-detail"?e.jsx(t.Suspense,{fallback:e.jsx(sa,{variant:"page",message:"Loading Day Details..."}),children:e.jsx(fa,{onBack:()=>{window.history.pushState({},"",ue()),d("calendar")}})}):n==="blog-detail"&&Q?e.jsx(fe,{blog:Q,onBack:oe,onNavigate:m=>{l({source:A?.source||"calendar",slug:ee(m.title)}),window.scrollTo(0,0)}}):n==="blog-detail"&&Q?e.jsx(fe,{blog:Q,onBack:oe,onNavigate:m=>{l({source:A?.source||"calendar",slug:ee(m.title)}),window.scrollTo(0,0)}}):n==="events"?e.jsx(L.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center pb-20 min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(ua,{onBack:()=>d("calendar"),activeSystem:c})}):n==="saait"?e.jsx(L.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center pb-20 min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(ha,{onBack:()=>d("calendar"),activeSystem:c,onNavigate:m=>d(m)})}):n==="daily-saait"?e.jsx(L.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center pb-20 min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(ma,{onBack:()=>d("calendar"),activeSystem:c})}):(()=>{const m=he.find(k=>k.key===n);if(m&&m.page){const k=m.page,M={onBack:()=>d("calendar"),theme:o,activeSystem:c,onNavigate:B=>d(B)};let z={...M,...ae};return n==="settings"?z={...M,currentTheme:o,onThemeChange:i,currentMenuStyle:p,onMenuStyleChange:x,currentDesktopLayoutStyle:u,onDesktopLayoutStyleChange:b,onResetSettings:Ne,isAndroidApp:we,onReloadApp:me}:n==="kundali"?z={...M,...M,setIsKundaliResultsVisible:E,setKundaliBackAction:N,initialData:ae?.formData}:n==="namakaran"?z={...M,onViewKundali:B=>{R({formData:B}),d("kundali")},onNavigate:(B,H)=>{H&&R(H),d(B)}}:n==="dharma"&&(z={...M,activeSystem:c,currentYear:W||2081,currentMonth:P,tag:ae?.tag,onNavigate:(B,H)=>{B==="blog-detail"?(l({source:"dharma",slug:ee(H.title)}),d("blog-detail")):B==="dharma"&&(R(H),d("dharma"))},setIsDharmaResultsVisible:D,setDharmaBackAction:F}),e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center pb-20 min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(k,{...z})})}return null})(),n==="print-calendar"&&e.jsx(L.Suspense,{fallback:e.jsx("div",{className:"p-10 text-center",children:"Loading..."}),children:e.jsx(ca,{onBack:()=>d("calendar"),activeSystem:c})}),n==="calendar"&&e.jsx(aa,{onNavigate:(m,k)=>{d(m),R(k||null),m==="calendar"&&k&&typeof k.month=="number"&&(c==="bs"?q(k.month):ne(k.month))}})]})})}),p==="slide"&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-slate-200 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-50 print:hidden md:hidden",children:e.jsx($e,{})}),p==="tabs"&&e.jsx("div",{className:"md:hidden print:hidden fixed bottom-0 left-0 right-0 z-[1000]",children:e.jsx(ze,{activeView:n,onNavigate:m=>{R(null),d(m)},theme:o,onThemeToggle:i,themeLabel:o==="light"?S.darkMode:S.lightMode})}),e.jsx(He,{date:C,isOpen:V,onClose:()=>Y(!1),activeSystem:c}),e.jsx(ta,{isOpen:s,onConfirm:a,onCancel:()=>r(!1)}),e.jsx(Xe,{})]})})};qe.Icon.Default.mergeOptions({iconUrl:ea,shadowUrl:Ze,iconRetinaUrl:Qe});const xa=ge({onNeedRefresh(){const s=new CustomEvent("pwa-update-available");window.dispatchEvent(s)},onOfflineReady(){console.log("App ready to work offline")}});window.refreshPWA=xa;De.createRoot(document.getElementById("root")).render(e.jsx(t.StrictMode,{children:e.jsx(ga,{})}));
